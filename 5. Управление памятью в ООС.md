## 1. Роль и назначение памяти

Память — один из ключевых компонентов ЭВМ.  

Она обеспечивает хранение данных и программ, необходимых для работы процессора.  

Без памяти невозможно выполнение вычислений, организация обмена данными и взаимодействие между компонентами системы.

  

Существует два основных уровня хранения информации:

- **Первичная память** — оперативная (ОЗУ) и постоянная (ПЗУ), построенные на микросхемах.  

- **Вторичная память** — внешние устройства (жесткие диски, SSD, флеш-накопители).  

  

Память ЭВМ состоит из ячеек, каждая из которых хранит одно слово (обычно 4 байта).  

  

## 2. Виды и классификация памяти

  

### Энергозависимая память

Сохраняет данные только при наличии питания.  

К ней относится **оперативная память (RAM)**.  

RAM используется для временного хранения данных и команд, необходимых процессору.  

После выключения питания содержимое теряется.

  

### Энергонезависимая память

Сохраняет данные независимо от питания.  

К ней относятся:

- **Постоянное запоминающее устройство (ROM)** — хранит BIOS и программы начальной загрузки.  

- **Flash-память** — энергонезависимая, используется в накопителях и устройствах хранения данных.  

- **CMOS** — хранит системные настройки BIOS.  

  

## 3. BIOS (Basic Input/Output System)

BIOS — базовая система ввода/вывода, встроенная в ПЗУ на материнской плате.  

Она выполняет автоматическое тестирование устройств, инициализацию оборудования и загрузку операционной системы.  

BIOS содержит драйверы базовых устройств и запускается до загрузки ОС.  

  

## 4. Иерархическая организация памяти

Современные ЭВМ имеют многоуровневую систему памяти, различающуюся по скорости доступа и стоимости.

  

**Уровни:**

1. Регистры процессора — самая быстрая память, используется для хранения промежуточных данных.  

2. Кэш-память — буфер между процессором и ОЗУ, ускоряет доступ к часто используемым данным.  

3. Оперативная память (ОЗУ) — основное рабочее пространство.  

4. Внешняя память — накопители на магнитных и твердотельных носителях.

  

**Кэш-память** хранит копии данных из ОЗУ.  

Если нужные данные найдены — это *кэш-попадание*; если нет — *кэш-промах*.  

Различают уровни кэша L1, L2, L3.  

  

## 5. Оперативная память (ОЗУ)

  

Оперативная память (RAM — Random Access Memory) используется для временного хранения данных и команд.  

Процессор получает и записывает данные непосредственно в ОЗУ.  

  

**Типы ОЗУ:**

- **SRAM** — статическая память, быстрая и дорогая, применяется в кэше.  

- **DRAM** — динамическая, требует обновления заряда, используется как основная память.

  

В 32-битных системах доступно до 4 ГБ ОЗУ, в 64-битных — до сотен гигабайт.  

  

## 6. Функции операционной системы при управлении памятью

Операционная система отвечает за эффективное использование ограниченного ресурса — оперативной памяти.

  

Основные функции:

- Учёт свободных и занятых областей памяти.  

- Выделение памяти процессам и освобождение после их завершения.  

- Подкачка данных с диска при нехватке памяти.  

- Защита памяти — предотвращение доступа одного процесса к памяти другого.  

- Настройка адресов программ на реальные физические области памяти.  

  

## 7. Стратегии управления памятью

  

Для эффективного использования ОП операционная система применяет различные стратегии:

  

1. **Стратегия выборки (вталкивания)**  

   Определяет момент загрузки данных в память.  

   - По запросу — данные подгружаются только при обращении.  

   - Упреждающая — подгрузка заранее, исходя из поведения программы.  

  

2. **Стратегия размещения**  

   Определяет, в какое место памяти загрузить программу.  

   - Первый подходящий участок — минимизация времени.  

   - Наиболее подходящий — минимизация фрагментации.  

   - Наименее подходящий — оставляет крупные свободные блоки.  

  

3. **Стратегия замещения (выталкивания)**  

   Определяет, какие данные выгружать при нехватке памяти.  

   Основные алгоритмы:  

   - Случайный выбор.  

   - FIFO (первым пришёл — первым вышел).  

   - LRU (давно не использовался).  

   - LFU (наименее часто использовался).  

   - NUR (не использовался недавно).  

  

## 8. Виды организации реальной памяти

  

1. **Однопрограммная** — вся память выделяется одному процессу. Простая реализация, но низкая эффективность.  

2. **Мультипрограммная с фиксированными разделами** — память заранее делится на разделы фиксированного размера. Возможна внешняя и внутренняя фрагментация.  

3. **С динамическими разделами** — память выделяется по мере необходимости. Устраняется внешняя фрагментация, но возможна внутренняя.  

4. **С перемещаемыми разделами** — используется сжатие и объединение областей для борьбы с фрагментацией.  

  

## 9. Использование внешней памяти

  

Если оперативной памяти не хватает, операционная система временно переносит данные на диск.

  

**Свопинг (swapping)** — выгрузка процессов целиком на диск и возврат обратно.  

**Виртуальная память** — выгрузка и подкачка только отдельных частей (страниц или сегментов) процессов.  

  

## 10. Концепция виртуальной памяти

  

Виртуальная память создаёт иллюзию большого адресного пространства, превышающего объём физической памяти.  

Адрес, который использует программа, называется виртуальным и преобразуется в физический аппаратно-программными средствами.

  

Преимущества виртуальной памяти:

- Возможность работы с большими программами.  

- Более эффективное использование ОЗУ.  

- Защита памяти и изоляция процессов.  

  

## 11. Типы адресов

- **Символьные** — задаются программистом.  

- **Виртуальные** — формируются компилятором и используются в программах.  

- **Физические** — реальные адреса ячеек памяти.  

  

## 12. Организация виртуальной памяти

  

1. **Страничная организация** — память делится на страницы фиксированного размера, создаётся таблица страниц для сопоставления виртуальных и физических адресов.  

2. **Сегментная организация** — программа делится на логические части (код, данные, стек), каждая из которых имеет собственный дескриптор.  

3. **Сегментно-страничная организация** — комбинированный подход: сегменты делятся на страницы, что снижает фрагментацию.  

  

## 13. Динамическое преобразование адресов (ДПА)

  

ДПА — аппаратный механизм, сопоставляющий виртуальные адреса с физическими.  

Операционная система хранит таблицы отображения и изменяет их по мере загрузки и выгрузки страниц.  

Этот механизм позволяет программам работать независимо от реального расположения данных в памяти.  

  

## 14. Виртуальная память и файл подкачки в Windows

  

Windows объединяет физическую память (ОЗУ) и область диска (файл подкачки pagefile.sys) в единое виртуальное адресное пространство.  

Каждый процесс получает собственное виртуальное адресное пространство.  

  

Если программа обращается к странице, которой нет в ОЗУ, возникает прерывание (page fault), и страница подгружается с диска.  

При нехватке памяти ОС выгружает редко используемые страницы обратно в файл подкачки.  

  

## 15. Файл подкачки и дамп памяти

  

**Файл подкачки** используется для временного хранения страниц, не помещающихся в ОЗУ.  

Windows может автоматически регулировать его размер, но допускается ручная настройка.

  

**Типы дампов памяти:**

- Полный — вся память системы.  

- Дамп ядра — только память ядра и драйверов.  

- Малый — минимальные данные для диагностики.  

- Автоматический — выбор оптимального варианта системой.